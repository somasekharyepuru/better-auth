# ===========================================
# PRODUCTION CONFIGURATION GUIDE
# ===========================================
# Before deploying to production:
# 1. Generate a secure secret: openssl rand -base64 32
# 2. Use strong database passwords (min 16 chars, mixed case, numbers, symbols)
# 3. Update all URLs to use HTTPS
# 4. Restrict CORS_ORIGIN to your production domain only
# ===========================================

# Database Configuration
# PRODUCTION: Use a strong password (NOT "password")
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=auth_service
POSTGRES_PORT=5432
# Note: DATABASE_URL is auto-generated in docker-compose.yml
# For local development (non-docker): use the URL below
# DATABASE_URL=postgresql://postgres:password@localhost:5432/auth_service?schema=public

# Application Configuration
# PRODUCTION: Set to "production"
NODE_ENV=development
PORT=3000

# CRITICAL: Generate with `openssl rand -base64 32`
# PRODUCTION: Must be a cryptographically secure secret (32+ chars)
BETTER_AUTH_SECRET=your-better-auth-secret-here-min-32-chars-generate-with-openssl-rand-base64-32

# PRODUCTION: Must use HTTPS (e.g., https://api.yourdomain.com)
BETTER_AUTH_URL=http://localhost:3000
AUTH_BASE_URL=http://localhost:3000
APP_NAME=Auth Service

# CORS Configuration
# PRODUCTION: Only include your actual frontend domain (e.g., https://yourdomain.com)
CORS_ORIGIN=http://localhost:3001,http://localhost:5173,http://localhost:4173,http://localhost:8080

# OAuth Configuration - Microsoft (Optional)
# Get credentials from: https://portal.azure.com
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# OAuth Configuration - Google (Optional)
# Get credentials from: https://console.cloud.google.com
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Webhook Configuration (Required for email functionality)
# PRODUCTION: Your N8N/email service webhook endpoint
N8N_WEBHOOK_URL=your-n8n-webhook-url
MAIL_TIMEOUT_MS=10000
MAIL_MAX_RETRIES=3

# Rate Limiting (Better Auth built-in)
AUTH_RATE_LIMIT_WINDOW=60
AUTH_RATE_LIMIT_MAX=30

# Logging
# PRODUCTION: Use "warn" or "error" for less verbosity
LOG_LEVEL=info

# Frontend URL (for invitation links)
# PRODUCTION: Must use HTTPS (e.g., https://yourdomain.com)
FRONTEND_URL=http://localhost:3001
